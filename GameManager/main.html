<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Styled Snake Game</title>
</head>
<body>
    <div style="display: flex; justify-content: center; align-items: center; flex-direction: column; margin-top: 20px;">
        <div id="game-container" style="position: relative; background-color: green; width: 400px; height: 400px; border: 2px solid black; display: flex; justify-content: center; align-items: center;"></div>

        <div style="display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px; margin-top: 20px;">
            <button id="left" style="grid-column: 1; grid-row: 2; width: 100px; height: 100px; font-size: 24px; background-color: white; border: 2px solid gray;">⬅️</button>
            <button id="up" style="grid-column: 2; grid-row: 1; width: 100px; height: 100px; font-size: 24px; background-color: white; border: 2px solid gray;">⬆️</button>
            <button id="down" style="grid-column: 2; grid-row: 2; width: 100px; height: 100px; font-size: 24px; background-color: white; border: 2px solid gray;">⬇️</button>
            <button id="right" style="grid-column: 3; grid-row: 2; width: 100px; height: 100px; font-size: 24px; background-color: white; border: 2px solid gray;">➡️</button>
        </div>
    </div>

    <script>
        const gameDiv = document.getElementById('game-container');
        const width = 20; // Number of cells horizontally
        const height = 20; // Number of cells vertically
        const cellSize = 20; // Size of each cell in pixels

        // Snake and food state
        let snake = [{ x: 10, y: 10 }];
        let direction = { x: 0, y: -1 };
        let food = { x: Math.floor(Math.random() * width), y: Math.floor(Math.random() * height) };

        // Game loop function
        function gameLoop() {
            const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };

            head.x = (head.x + width) % width;
            head.y = (head.y + height) % height;

            if (snake.some((segment) => segment.x === head.x && segment.y === head.y)) {
                alert('Game Over!');
                snake = [{ x: 10, y: 10 }];
                direction = { x: 0, y: -1 };
                food = { x: Math.floor(Math.random() * width), y: Math.floor(Math.random() * height) };
                return;
            }

            snake.unshift(head);

            if (head.x === food.x && head.y === food.y) {
                food = { x: Math.floor(Math.random() * width), y: Math.floor(Math.random() * height) };
            } else {
                snake.pop();
            }

            draw();
        }

        function draw() {
            gameDiv.innerHTML = '';

            snake.forEach((segment) => {
                const segmentDiv = document.createElement('div');
                segmentDiv.style.position = 'absolute';
                segmentDiv.style.width = `${cellSize}px`;
                segmentDiv.style.height = `${cellSize}px`;
                segmentDiv.style.backgroundColor = 'blue';
                segmentDiv.style.left = `${segment.x * cellSize}px`;
                segmentDiv.style.top = `${segment.y * cellSize}px`;
                gameDiv.appendChild(segmentDiv);
            });

            const foodDiv = document.createElement('div');
            foodDiv.style.position = 'absolute';
            foodDiv.style.width = `${cellSize}px`;
            foodDiv.style.height = `${cellSize}px`;
            foodDiv.style.backgroundColor = 'red';
            foodDiv.style.left = `${food.x * cellSize}px`;
            foodDiv.style.top = `${food.y * cellSize}px`;
            gameDiv.appendChild(foodDiv);
        }

        function handleInput(input) {
            const directions = {
                left: { x: -1, y: 0 },
                up: { x: 0, y: -1 },
                down: { x: 0, y: 1 },
                right: { x: 1, y: 0 },
            };
            const newDirection = directions[input];
            if (
                snake.length > 1 &&
                newDirection.x === -direction.x &&
                newDirection.y === -direction.y
            ) {
                return;
            }
            direction = newDirection;
        }

        document.getElementById('left').addEventListener('click', () => handleInput('left'));
        document.getElementById('up').addEventListener('click', () => handleInput('up'));
        document.getElementById('down').addEventListener('click', () => handleInput('down'));
        document.getElementById('right').addEventListener('click', () => handleInput('right'));

        setInterval(gameLoop, 200);
    </script>
</body>
</html>